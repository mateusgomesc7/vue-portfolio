<template>
    <v-card
        justify="center"
        class="mx-auto"
        width="440"
        min-height="400"
        outlined
        elevation="2"
    >
        <v-carousel
            v-model="model"
            delimiter-icon="mdi-minus"
            hide-delimiter-background
            show-arrows-on-hover
            :show-arrows="!$vuetify.breakpoint.mobile"
            height="220"
        >
            <v-menu
                v-model="showMenu"
                absolute
                offset-y
                style="max-width: 600px"
                transition="scale-transition"
            >
                <template v-slot:activator="{ on, attrs }">
                    <v-carousel-item
                        v-for="(color, i) in colors"
                        :key="color"
                        v-bind="attrs"
                        v-on="on"
                    >
                        <v-sheet
                            :color="color"
                            height="100%"
                            tile
                        >
                            <v-row
                                class="fill-height"
                                align="center"
                                justify="center"
                            >
                            <div class="text-h2">
                                Slide {{ i + 1 }}
                            </div>
                            </v-row>
                        </v-sheet>
                    </v-carousel-item>
                </template>

                <v-list>
                    <v-list-item
                        v-for="(item, index) in items"
                        :key="index"
                        link
                    >
                        <v-list-item-title>{{ item.title }}</v-list-item-title>
                    </v-list-item>
                </v-list>
            </v-menu>
        </v-carousel>
        <v-card-title class="pb-1 pt-0">
            {{ $t(project.name) }}
        </v-card-title>
        <v-card-text class="pb-2 pr-6">
            <v-row no-gutters>
                <v-col
                    ref="description"
                    cols="11"
                    :class="expand ? '' : 'text-truncate'"
                    @click="expand = true"
                >
                    {{ $t(project.description) }}
                </v-col>
                <v-col cols="1">
                    <v-btn
                        icon
                        color="deep-purple accent-4"
                        class="ml-2"
                        style="top: -5px;"
                        @click="expand = !expand"
                    >
                        <v-icon>
                            {{ expand ? 'mdi-chevron-up' : 'mdi-chevron-down'}}
                        </v-icon>
                    </v-btn>
                </v-col>
            </v-row>
        </v-card-text>
        <v-card-text class="pt-0">
            <v-chip
                v-for="(technologie, index) in project.technologies"
                :key="index"
                small
                class="mr-1 mb-1"
            >
                {{ technologie.name }}
            </v-chip>
        </v-card-text>
        <v-divider></v-divider>
        <v-card-actions>
            <v-btn
                text
                color="deep-purple accent-4"
            >
                Live
            </v-btn>
            <v-btn
                text
                color="deep-purple accent-4"
            >
                Source Code
            </v-btn>
        </v-card-actions>
    </v-card>
</template>

<script>
export default {
    name: "CardProject",
    props: {
        project: {
            type: Array,
            default: () => {},
        },
    },
    data: () => {
        return {
            expand: false,
            colors: [
                'primary',
                'secondary',
                'yellow darken-2',
                'red',
                'orange',
            ],
            showMenu: false,
            items: [
                { title: 'Veja mais' },
            ],
        }
    }
}
</script>